(this["webpackJsonpleipzig-maps"]=this["webpackJsonpleipzig-maps"]||[]).push([[0],{84:function(e,t,n){},85:function(e,t,n){},93:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(14),a=n.n(i),s=(n(84),n(85),n(18)),o=n(8),l=n(2),j=n(6),d=n(9),u=n(10),b=n(17),O=n.n(b),h=n(108),p=n(107),f=n(32),g=n(52),x=n(44),m=n(33),y=n(105),k=n(106),v=n(109),w=n(1),z=function(e){for(var t=e.min,n=e.max,c=e.scale.domain([0,100]),r=[],i=0;i<100;i++)r.push(i);return Object(w.jsxs)("div",{style:{overflow:"auto",fontFamily:"monospace"},children:[r.map((function(e){return Object(w.jsx)("span",{style:{display:"inline-block",backgroundColor:c(e).hex(),width:"1%",height:10}},e)})),Object(w.jsx)("div",{style:{float:"left"},children:t}),Object(w.jsx)("div",{style:{float:"right"},children:n})]})},_=n(101),S=n(102),C={stroke:!1,fillOpacity:.6},T=function(e){var t=e.geoframe,n=e.pathOptions,r=e.tooltip,i=Object(c.useState)(!1),a=Object(j.a)(i,2),s=a[0],o=a[1];return Object(w.jsx)(_.a,{pathOptions:Object(l.a)(Object(l.a)(Object(l.a)({},C),n),{},{fillOpacity:s?.6:C.fillOpacity}),positions:t.geometry.coordinates[0],eventHandlers:{mouseover:function(){return o(!0)},mouseout:function(){return o(!1)}},children:Object(w.jsx)(S.a,{direction:"top",sticky:!0,children:r})})},M=function(e){var t=e.cache,n=e.dataOverlayEntries,c=e.selectedDataKey,r=e.selectedX,i=e.selectedY,a=e.showTotal,o=e.scale;if(!t[c]||!t[c][r]||!t[c][r][i])return null;var l=i&&(i.indexOf("Anteil")>=0||i.indexOf("anteil")>=0||i.indexOf("Quote")>=0||i.indexOf("quote")>=0),j=function(e){return a?l&&e.length>0?Math.round(e.reduce((function(e,t){return e+t.value}),0)/e.length):e.reduce((function(e,t){return e+t.value}),0):0},d=t[c][r][i],u=Object.keys(t[c]).map((function(e){return t[c][e][i]?a?j(t[c][e][i]):t[c][e][i].map((function(e){return e.value})):0})).flat(1),b=Math.max.apply(Math,Object(s.a)(u)),O=n[c].min||0,h=o.domain([O,b]),p=j(d);return Object(w.jsx)(w.Fragment,{children:t.districts.features.filter((function(e){return a?"Gesamt"===e.properties.title:"Gesamt"!==e.properties.title})).map((function(e){var t=a?null:d.find((function(t){return t.district===e.properties.title})),r=a?"Gesamt":t.district,s=a?p:t.value;return Object(w.jsx)(T,{geoframe:e,tooltip:Object(w.jsxs)("div",{style:{fontSize:"1rem"},children:[Object(w.jsxs)("div",{style:{fontSize:"1.4rem"},children:[s,l?"%":""," ",n[c].unit]}),r,Object(w.jsx)("br",{}),Object(w.jsx)("div",{style:{fontSize:"0.8rem"},children:n[c].title}),n[c].title!==i.replace(" insgesamt","")&&Object(w.jsx)("div",{style:{fontSize:"0.8rem"},children:i})]}),pathOptions:{fillColor:h(s).hex()}},e.properties.key)}))})},I=n(23),B=n(51);var F=function(e,t){var n=Object(c.useRef)(),r=Object(c.useRef)(e);return Object(c.useEffect)((function(){r.current=e}),[e]),Object(c.useEffect)((function(){if("number"===typeof t)return n.current=window.setInterval((function(){return r.current()}),t),function(){return window.clearInterval(n.current)}}),[t]),n},L=function(e){var t=e.dataEntries,n=e.cache,r=e.selectedDataKey,i=e.selectedX,a=e.selectedY,s=e.showTotal,o=e.setSelectedX,l=e.setSelectedY,b=e.setShowTotal,O=e.selectDataOverlayCategory,h=e.loadings,p=n[r],g=p?Object.keys(p):[],m=p?Object.keys(p[g[0]]):[],y=Object(c.useState)(!1),k=Object(j.a)(y,2),v=k[0],z=k[1];return F((function(){return function(){if(p){var e=g.indexOf(i),t=e+1>Object.keys(p).length-1?0:e+1;console.log(e,t),o(g[t])}}()}),v?500:null),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(B.a.Check,{type:"checkbox",id:"Total",label:"Zeige Daten f\xfcr Gesamtgebiet",checked:s,onChange:function(e){return b((function(e){return!e}))},style:{marginLeft:20}},"Total"),Object(w.jsxs)("div",{style:{paddingBottom:20,paddingLeft:20,paddingRight:20,paddingTop:5},children:[Object(w.jsxs)("p",{children:[Object(w.jsx)("strong",{children:"Details f\xfcr Ortsteile"})," zeigen mit farblichen Fl\xe4chen bspw. an, wie viele Arbeitslose im Jahr 2016 in jeweiligem Ortsteil gelebt haben. W\xe4hle eine ",Object(w.jsx)("strong",{children:"Kategorie"}),", ",Object(w.jsx)("strong",{children:"Unterkategorie"})," und ",Object(w.jsx)("strong",{children:"Jahr"}),"."]}),Object(w.jsxs)(I.a,{defaultActiveKey:"0",children:[Object(w.jsxs)(I.a.Item,{eventKey:"0",children:[Object(w.jsxs)(I.a.Header,{children:["Kategorie\xa0",Object(w.jsxs)("span",{style:{opacity:.5},children:[t[r].title," (",Object.keys(t).length,")"]})]}),Object(w.jsx)(I.a.Body,{children:Object.keys(t).map((function(e){return Object(w.jsx)(B.a.Check,{type:"radio",id:e,label:Object(w.jsxs)("span",{style:{textTransform:"capitalize"},children:[t[e].title,"\xa0",h[e]&&Object(w.jsx)(x.a,{animation:"border",size:"sm"})]}),checked:r===e,onChange:function(t){return O(e)}},e)}))})]}),m.length>1&&Object(w.jsxs)(I.a.Item,{eventKey:"1",children:[Object(w.jsxs)(I.a.Header,{children:["Unterkategorie:\xa0",Object(w.jsxs)("span",{style:{opacity:.5},children:[a," (",m.length,")"]})]}),Object(w.jsxs)(I.a.Body,{children:[h[r]&&Object(w.jsx)(x.a,{animation:"border",size:"sm"}),!!p&&p[i]&&Object.keys(p[i]).sort().map((function(e){return Object(w.jsx)(B.a.Check,{type:"radio",id:e,label:e,checked:a===e,onChange:function(t){return l(e)}},e)}))]})]}),Object(w.jsxs)(I.a.Item,{eventKey:"2",children:[Object(w.jsxs)(I.a.Header,{children:["Jahr:\xa0",Object(w.jsxs)("span",{style:{opacity:.5},children:[i," (",g.length,")"]})]}),Object(w.jsxs)(I.a.Body,{children:[Object(w.jsx)(f.a,{style:{marginBottom:10,float:"right"},size:"sm",onClick:function(){return z((function(e){return!e}))},children:v?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(u.a,{icon:d.k})," Pause"]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(u.a,{icon:d.l})," Abspielen"]})}),h[r]&&Object(w.jsx)(x.a,{animation:"border",size:"sm"}),!!p&&Object.keys(p).reverse().map((function(e){return Object(w.jsx)(B.a.Check,{type:"radio",id:e,label:e,checked:i===e,onChange:function(t){return o(e)}},e)}))]})]})]})]})]})},D=n(59),E=n(12),P=n.n(E),R=n(103),H=n(104),K=function(e){var t=e.data,n=e.renderTooltip,c=e.renderIcon,r=e.renderLink,i=void 0===r?null:r;return t.map((function(e,t){var r=P.a.divIcon({iconSize:[20,20],html:Object(D.renderToString)(c(e))}),a=Object(w.jsx)(R.a,{children:Object(w.jsxs)("div",{style:{fontSize:"1rem"},children:[n(e),"(",Object(w.jsx)("a",{href:i(e),children:"Mehr Details"}),")"]})}),s=Object(w.jsx)(S.a,{sticky:!0,children:Object(w.jsxs)("div",{style:{fontSize:"1rem"},children:[n(e),Object(w.jsx)("br",{})]})});return Object(w.jsxs)(H.a,{position:[e.lat||e.center&&e.center.lat,e.lon||e.center&&e.center.lon],icon:r,eventHandlers:{click:function(){return null===i||m.isMobile?{}:window.open(i(e))}},children:[m.isMobile&&a,!m.isMobile&&s]},t)}))},A=(n(92),n(78)),Y=function(e){var t=e.checked,n=e.onChange,r=e.loading,i=e.icon,a=e.label,s=Object(w.jsx)(x.a,{animation:"border",size:"sm"}),o=Object(c.useState)(!1),l=Object(j.a)(o,2),d=l[0],u=l[1];return Object(w.jsxs)("div",{onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},onTouchStart:function(){return u(!0)},onTouchEnd:function(){return u(!1)},onTouchCancel:function(){return u(!1)},onClick:function(){return n()},style:{display:"flex",flexDirection:"row",justifyContent:"space-between",fontSize:"1.1rem",padding:"10px 20px",backgroundColor:d?"#eee":"#fff"},children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("span",{style:{marginRight:7},children:r?s:i}),Object(w.jsx)("span",{children:a})]}),Object(w.jsx)("div",{children:Object(w.jsx)(A.a,{disabled:!0===r,checked:t})})]})},q="#1a73e8",G="#1a73e8",X="#1a73e8",J="#1a73e8",Q="#7986cb",Z="#78909c",U="#f06292",W="#f06292",N="#5565dd",V="#34a853",$="#f29900",ee="#f29900",te=function(e){var t=e.showMarker,n=e.toggleMarkers,c=e.setShowMarker,r=e.loadings;return Object(w.jsxs)("div",{children:["geolocation"in navigator&&Object(w.jsx)(Y,{loading:r.own_location,checked:t.own_location,onChange:function(e){return c(Object(l.a)(Object(l.a)({},t),{},{own_location:!t.own_location}))},icon:Object(w.jsx)(u.a,{color:J,icon:d.j}),label:"Eigenen Standort anzeigen"}),Object(w.jsx)(Y,{loading:r.bus_stops,checked:t.bus_stops,onChange:function(e){return n("bus_stops")},icon:Object(w.jsx)(u.a,{color:q,icon:d.c}),label:"Bushaltestellen anzeigen"}),Object(w.jsx)(Y,{loading:r.train_stops,checked:t.train_stops,onChange:function(e){return n("train_stops")},icon:Object(w.jsx)(u.a,{color:G,icon:d.n}),label:"Zugbahnh\xf6fe anzeigen"}),Object(w.jsx)(Y,{loading:r.tram_stops,checked:t.tram_stops,onChange:function(e){return n("tram_stops")},icon:Object(w.jsx)(u.a,{color:X,icon:d.q}),label:"Tramstops anzeigen"}),Object(w.jsx)(Y,{loading:r.swimming_pools,checked:t.swimming_pools,onChange:function(e){return n("swimming_pools")},icon:Object(w.jsx)(u.a,{color:Q,icon:d.p}),label:"Swimming Pools anzeigen"}),Object(w.jsx)(Y,{loading:r.fitness_studios,checked:t.fitness_studios,onChange:function(e){return n("fitness_studios")},icon:Object(w.jsx)(u.a,{color:Z,icon:d.h}),label:"Fitness Studios anzeigen"}),Object(w.jsx)(Y,{loading:r.daycares,checked:t.daycares,onChange:function(e){return n("daycares")},icon:Object(w.jsx)(u.a,{color:U,icon:d.a}),label:"Kitas anzeigen"}),Object(w.jsx)(Y,{loading:r.playgrounds,checked:t.playgrounds,onChange:function(e){return n("playgrounds")},icon:Object(w.jsx)(u.a,{color:W,icon:d.e}),label:"Spielpl\xe4tze anzeigen"}),Object(w.jsx)(Y,{loading:r.bike_lanes,checked:t.bike_lanes,onChange:function(e){return c(Object(l.a)(Object(l.a)({},t),{},{bike_lanes:!t.bike_lanes}))},icon:Object(w.jsx)(u.a,{color:N,icon:d.b}),label:"Radwege anzeigen"}),Object(w.jsx)(Y,{loading:r.parks,checked:t.parks,onChange:function(e){return n("parks")},icon:Object(w.jsx)(u.a,{color:V,icon:d.r}),label:"Parks anzeigen"}),Object(w.jsx)(Y,{loading:r.supermarkets,checked:t.supermarkets,onChange:function(e){return n("supermarkets")},icon:Object(w.jsx)(u.a,{color:$,icon:d.m}),label:"Superm\xe4rkte anzeigen"}),Object(w.jsx)(Y,{loading:r.markets,checked:t.markets,onChange:function(e){return n("markets")},icon:Object(w.jsx)(u.a,{color:ee,icon:d.i}),label:"Wochenm\xe4rkte anzeigen"})]})},ne=function(e){var t=e.showMarker,n=e.cache;return Object(w.jsxs)(w.Fragment,{children:[t.bus_stops&&Object(w.jsx)(K,{data:n.bus_stops.elements,renderTooltip:function(e){return Object(w.jsxs)("div",{children:[e.tags.name," (",e.tags.network,")",Object(w.jsx)("br",{}),"(click for details)"]})},renderIcon:function(e){return Object(w.jsx)(u.a,{color:q,icon:d.c})},renderLink:function(e){return"https://www.openstreetmap.org/".concat(e.type,"/").concat(e.id)}}),t.swimming_pools&&Object(w.jsx)(K,{data:n.swimming_pools,renderTooltip:function(e){return Object(w.jsxs)("div",{children:[e.title,Object(w.jsx)("br",{}),"(click for details)"]})},renderIcon:function(e){return"indoor_pool"===e.type?Object(w.jsx)(u.a,{color:Q,icon:d.p}):Object(w.jsx)(u.a,{color:Q,icon:d.o})},renderLink:function(e){return e.link}}),t.tram_stops&&Object(w.jsx)(K,{data:n.tram_stops.elements,renderTooltip:function(e){return Object(w.jsxs)("div",{children:[e.tags.name," (",e.tags.network,")",Object(w.jsx)("br",{}),"(click for details)"]})},renderIcon:function(e){return Object(w.jsx)(u.a,{color:X,icon:d.q})},renderLink:function(e){return"https://www.openstreetmap.org/".concat(e.type,"/").concat(e.id)}}),t.train_stops&&Object(w.jsx)(K,{data:n.train_stops.elements,renderTooltip:function(e){return Object(w.jsxs)("div",{children:[e.tags.name,Object(w.jsx)("br",{}),e.tags.operator,Object(w.jsx)("br",{}),"(click for details)"]})},renderIcon:function(e){return Object(w.jsx)(u.a,{color:G,icon:d.n})},renderLink:function(e){return"https://www.openstreetmap.org/".concat(e.type,"/").concat(e.id)}}),t.fitness_studios&&Object(w.jsx)(K,{data:n.fitness_studios.elements,renderTooltip:function(e){return Object(w.jsxs)("div",{children:[e.tags.name,Object(w.jsx)("br",{}),"(click for details)"]})},renderIcon:function(e){return Object(w.jsx)(u.a,{color:Z,icon:d.h})},renderLink:function(e){return"https://www.openstreetmap.org/".concat(e.type,"/").concat(e.id)}}),t.daycares&&Object(w.jsx)(K,{data:n.daycares.elements,renderTooltip:function(e){return Object(w.jsxs)("div",{children:[e.tags.name,Object(w.jsx)("br",{}),"(click for details)"]})},renderIcon:function(e){return Object(w.jsx)(u.a,{color:U,icon:d.a})},renderLink:function(e){return"https://www.openstreetmap.org/".concat(e.type,"/").concat(e.id)}}),t.markets&&Object(w.jsx)(K,{data:n.markets,renderTooltip:function(e){return Object(w.jsxs)("div",{children:[e.title,Object(w.jsx)("br",{}),e.opening_hours,Object(w.jsx)("br",{}),e.location]})},renderIcon:function(e){return Object(w.jsx)(u.a,{color:ee,icon:d.i})},renderLink:function(e){return"https://www.openstreetmap.org/search?query=".concat(e.location)}}),t.playgrounds&&Object(w.jsx)(K,{data:n.playgrounds,renderTooltip:function(e){return Object(w.jsxs)("div",{children:[e.name,Object(w.jsx)("br",{}),e.location]})},renderIcon:function(e){return Object(w.jsx)(u.a,{color:W,icon:d.e})},renderLink:function(e){return"https://www.openstreetmap.org/search?query=".concat(e.lat||e.center&&e.center.lat,",").concat(e.lon||e.center&&e.center.lon)}}),t.supermarkets&&Object(w.jsx)(K,{data:n.supermarkets.elements,renderTooltip:function(e){return Object(w.jsxs)("div",{children:[e.tags.name,Object(w.jsx)("br",{}),e.tags.organic?"organic: ".concat(e.tags.organic):""]})},renderIcon:function(e){return Object(w.jsx)(u.a,{color:e.tags.organic?"green":$,icon:d.m})},renderLink:function(e){return"https://www.openstreetmap.org/search?query=".concat(e.lat||e.center&&e.center.lat,",").concat(e.lon||e.center&&e.center.lon)}}),t.parks&&Object(w.jsx)(K,{data:n.parks.filter((function(e){var t;return null===(t=e.tags)||void 0===t?void 0:t.name})),renderTooltip:function(e){return e.tags.name},renderIcon:function(e){return Object(w.jsx)(u.a,{color:V,icon:d.r})},renderLink:function(e){return"https://www.openstreetmap.org/search?query=".concat(e.lat||e.center&&e.center.lat,",").concat(e.lon||e.center&&e.center.lon)}})]})},ce=n(53),re=function(e){return Object(w.jsxs)(ce.a,Object(l.a)(Object(l.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(w.jsx)(ce.a.Header,{closeButton:!0,children:Object(w.jsx)(ce.a.Title,{id:"contained-modal-title-vcenter",children:"Copyright & Daten"})}),Object(w.jsxs)(ce.a.Body,{children:[Object(w.jsxs)("ul",{children:[Object(w.jsxs)("li",{children:[Object(w.jsx)("a",{href:"https://www.openstreetmap.org/copyright/en",children:"\xa9 OpenStreetMap contributors"}),Object(w.jsx)("br",{})]}),Object(w.jsx)("li",{children:Object(w.jsx)("a",{href:"https://www.maptiler.com/copyright/",children:"\xa9 MapTiler"})}),Object(w.jsx)("li",{children:Object(w.jsx)("a",{href:"https://www.cyclosm.org",children:"\xa9 cyclosm"})}),Object(w.jsxs)("li",{children:[Object(w.jsx)("a",{href:"https://github.com/CodeforLeipzig/leipzig-maps",children:"GitHub Source Code"}),Object(w.jsx)("br",{})]})]}),Object(w.jsx)("p",{children:"Ein Teil der Beschriftungen kommen aus anderen Quellen und sind daher nicht gegendert."})]})]}))},ie=function(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),n=t[0],r=t[1];return Object(w.jsxs)("div",{style:{fontSize:12},children:[Object(w.jsx)(f.a,{style:{textDecoration:"none"},variant:"link",size:"sm",onClick:function(){return r(!0)},children:"Copyright & Daten"}),Object(w.jsx)("br",{}),Object(w.jsx)(f.a,{style:{textDecoration:"none"},variant:"link",size:"sm",onClick:function(){return window.open("https://github.com/CodeforLeipzig/leipzigmaps")},children:"\ud83e\uddd1\ud83c\udffb\u200d\ud83d\udcbb mrzmyr / Code for Leipzig"}),Object(w.jsx)("br",{}),Object(w.jsx)(re,{show:n,onHide:function(){return r(!1)}})]})},ae=(n(93),n(77)),se=function(){var e=P.a.divIcon({className:"ownLocationMarker",iconSize:[30,20],html:Object(D.renderToString)(Object(w.jsxs)("div",{children:[Object(w.jsx)(u.a,{icon:d.f,size:"lg",style:{animation:"pulseDot 2s cubic-bezier(0.455, 0.03, 0.515, 0.955) -.4s infinite",color:J,border:"2px solid #FFF",borderRadius:"50%",boxShadow:"rgba(0, 0, 0, 0.1) 0px 4px 12px",position:"relative",zIndex:20}}),Object(w.jsx)(u.a,{icon:d.f,size:"3x",style:{animation:"pulseRing 3s cubic-bezier(0.215, 0.61, 0.355, 1) infinite",color:J,position:"absolute",top:-9,left:-8,zIndex:10}})]}))}),t=Object(ae.usePosition)(!0,{enableHighAccuracy:!0}),n=t.latitude,c=t.longitude,r=t.error;return console.log(r),r?Object(w.jsx)("div",{style:{color:"#fff",padding:5,backgroundColor:"red",position:"absolute",top:0,right:0,zIndex:9999},children:r}):Object(w.jsx)(H.a,{position:[n||0,c||0],icon:e})},oe={aerzte:{title:"\xc4rzte",scale:O.a.scale("PuRd"),unit:"\xc4rzte"},"arbeitslose-insgesamt":{title:"Arbeitslose",scale:O.a.scale("OrRd"),unit:"Arbeitslose"},bedarfsgemeinschaften:{title:"Bedarfsgemeinschaften",scale:O.a.scale("YlGnBu"),unit:""},"einwohner-insgesamt":{title:"Population",scale:O.a.scale("BuPu"),unit:"Menschen"},einwohnerdichte:{title:"Bev\xf6lkerungsdichte",scale:O.a.scale("BuPu"),unit:"Menschen"},gesamtflaeche:{title:"Gesamtfl\xe4che",scale:O.a.scale("Greys"),unit:"km\xb2"},haushaltseinkommen:{title:"Einkommen",scale:O.a.scale("PuBu"),min:1e3,unit:"\u20ac"},jugendquote:{title:"Alter",scale:O.a.scale("YlOrBr"),unit:""},"kraftfahrzeuge-insgesamt":{title:"Kraftfahrzeuge",scale:O.a.scale("Purples"),unit:"Fahrzeuge"},migranten:{title:"Zugewanderte",scale:O.a.scale("GnBu"),unit:"Zugewanderte"},"straftaten-insgesamt":{title:"Straftaten",scale:O.a.scale("YlOrRd"),unit:"Straftaten"},"unternehmen-insgesamt":{title:"Unternehmen",scale:O.a.scale("Blues"),unit:"Unternehmen"},wohnungen:{title:"Wohnungen",scale:O.a.scale("RdPu")}},le=[51.340199,12.430103];function je(){return Object(y.a)("click",(function(e){console.log(e.latlng)})),null}var de=function(){var e=Object(c.useState)({}),t=Object(j.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!0),a=Object(j.a)(i,2),b=a[0],O=a[1],y=Object(c.useState)({districts:!0}),_=Object(j.a)(y,2),S=_[0],C=_[1],T=Object(c.useState)({bike_lanes:!1,bus_stops:!1,train_stops:!1,tram_stops:!1,swimming_pools:!1,playgrounds:!1,daycares:!1,data_overlay:!1,markets:!1}),I=Object(j.a)(T,2),B=I[0],F=I[1],D=Object(c.useState)(null),E=Object(j.a)(D,2),P=E[0],R=E[1],H=Object(c.useState)(null),K=Object(j.a)(H,2),A=K[0],q=K[1],G=Object(c.useState)(null),X=Object(j.a)(G,2),J=X[0],Q=X[1],Z=Object(c.useState)(!1),U=Object(j.a)(Z,2),W=U[0],N=U[1],V=function(e){R(e),n[e]?F(Object(l.a)(Object(l.a)({},B),{},Object(o.a)({},e,!B[e]))):(C(Object(l.a)(Object(l.a)({},S),{},Object(o.a)({},e,!0))),fetch("".concat("/leipzigmaps","/data/leipzig-").concat(e,".json")).then((function(e){return e.json()})).then((function(t){C((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(o.a)({},e,!1))})),r((function(n){return Object(l.a)(Object(l.a)({},n),{},Object(o.a)({},e,t.data))})),F((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(o.a)({},e,!t[e]))}))})))};Object(c.useEffect)((function(){fetch("".concat("/leipzigmaps","/data/leipzig-districts.json")).then((function(e){return e.json()})).then((function(e){r((function(t){return Object(l.a)(Object(l.a)({},t),{},{districts:e})})),C((function(e){return Object(l.a)(Object(l.a)({},e),{},{districts:!1})}))})),V(Object.keys(oe)[0])}),[]),Object(c.useEffect)((function(){if(n[P]){var e=n[P],t=Object.keys(e),c=Object.keys(e[t[0]]);q(t[t.length-1]),Q(c[0])}}),[n,P]);var $=null,ee=null,ce=null,re=null;if(n[P]&&n[P][A]&&n[P][A][J]){var ae=J&&(J.indexOf("Anteil")>=0||J.indexOf("anteil")>=0||J.indexOf("Quote")>=0||J.indexOf("quote")>=0);$=n[P][A][J];var de=Object.keys(n[P]).map((function(e){return n[P][e][J]?W?(t=n[P][e][J],W?ae&&t.length>0?Math.round(t.reduce((function(e,t){return e+t.value}),0)/t.length):t.reduce((function(e,t){return e+t.value}),0):0):n[P][e][J].map((function(e){return e.value})):0;var t})).flat(1);ee=Math.max.apply(Math,Object(s.a)(de)),re=[],Object.keys(n[P]).forEach((function(e){n[P][e][J]&&n[P][e][J].map((function(e){return e.value})).includes(ee)&&re.push(e)})),ce=oe[P].min||0}var ue=oe[P]?oe[P].scale:null;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(k.a,{style:{height:"100vh"},center:le,zoom:12,tap:!1,children:[!B.bike_lanes&&Object(w.jsx)(v.a,{attribution:'<a href="https://www.maptiler.com/copyright/" target="_blank">\xa9 MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">\xa9 OpenStreetMap contributors</a>',url:"https://api.maptiler.com/maps/streets/256/{z}/{x}/{y}@2x.png?key=LtQePu1HTsFQi3NRcYZ5"}),B.bike_lanes&&Object(w.jsx)(v.a,{attribution:'<a href="https://www.cyclosm.org" target="_blank">\xa9 cyclosm</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">\xa9 OpenStreetMap contributors</a>',url:"https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png"}),Object(w.jsx)(je,{}),Object(w.jsx)(ne,{showMarker:B,cache:n}),B.data_overlay&&!S.districts&&Object(w.jsx)(M,{dataOverlayEntries:oe,scale:ue,cache:n,selectedDataKey:P,showTotal:W,selectedX:A,selectedY:J}),B.own_location&&Object(w.jsx)(se,{})]}),!b&&Object(w.jsx)("div",{style:{position:"absolute",zIndex:999,right:20,bottom:20,boxShadow:"rgba(0, 0, 0, 0.1) 0px 4px 12px"},children:Object(w.jsx)(f.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",width:60,height:60},size:"lg",onClick:function(){return O(!0)},children:Object(w.jsx)(u.a,{size:"lg",icon:d.g})})}),B.data_overlay&&Object(w.jsxs)("div",{style:{position:"absolute",fontFamily:"monospace",zIndex:999,left:10,bottom:10,padding:10,borderRadius:10,background:"white",cursor:"pointer"},onClick:function(){return O(!0)},children:[Object(w.jsx)(h.a,{placement:"top",overlay:Object(w.jsxs)(p.a,{id:"tooltip-colorscale",children:["Der maximal Wert wurde in ",re&&re.join(", ")," erreicht."]}),children:Object(w.jsxs)("div",{children:[J,"\xa0(",A,")"]})}),Object(w.jsx)(z,{scale:ue,data:$,min:ce,max:ee})]}),Object(w.jsxs)(g.a,{show:b,onHide:function(){return O(!1)},backdrop:!1,placement:m.isMobile?"bottom":"end",style:{height:m.isMobile?"40vh":"100vh",border:0,boxShadow:"rgba(0, 0, 0, 0.1) 0px -10px 20px 0px"},children:[Object(w.jsx)(g.a.Header,{closeButton:!0,children:Object(w.jsx)(g.a.Title,{children:"Einstellungen"})}),Object(w.jsxs)(g.a.Body,{style:{padding:0},children:[S.districts&&Object(w.jsx)("div",{style:{textAlign:"center",padding:10},children:Object(w.jsx)(x.a,{animation:"border",size:"sm"})}),!S.districts&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Y,{loading:S.data_overlay,checked:B.data_overlay,onChange:function(e){F(Object(l.a)(Object(l.a)({},B),{},{data_overlay:!B.data_overlay}))},icon:Object(w.jsx)(u.a,{icon:d.d}),label:"Details zu Ortsteilen anzeigen"}),B.data_overlay&&Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(L,{dataEntries:oe,cache:n,selectedDataKey:P,showTotal:W,selectedX:A,selectedY:J,setSelectedX:q,setSelectedY:Q,setShowTotal:N,selectDataOverlayCategory:V,loadings:S})}),Object(w.jsx)(te,{showMarker:B,toggleMarkers:function(e){n[e]?F(Object(l.a)(Object(l.a)({},B),{},Object(o.a)({},e,!B[e]))):(C(Object(l.a)(Object(l.a)({},S),{},Object(o.a)({},e,!0))),fetch("".concat("/leipzigmaps","/data/leipzig-").concat(e.replace("_","-"),".json")).then((function(e){return e.json()})).then((function(t){r(Object(l.a)(Object(l.a)({},n),{},Object(o.a)({},e,t))),F(Object(l.a)(Object(l.a)({},B),{},Object(o.a)({},e,!B[e]))),C(Object(l.a)(Object(l.a)({},S),{},Object(o.a)({},e,!1)))})))},setShowMarker:F,loadings:S}),Object(w.jsx)("div",{style:{height:1,background:"#eee",marginTop:10,marginBottom:10}})]}),Object(w.jsx)(ie,{})]})]})]})};var ue=function(){return Object(w.jsx)("div",{className:"App",children:Object(w.jsx)(de,{})})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,110)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};n(95);a.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(ue,{})}),document.getElementById("root")),be()}},[[96,1,2]]]);
//# sourceMappingURL=main.9a310b21.chunk.js.map