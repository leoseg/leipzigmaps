{"version":3,"sources":["components/ColorScale.js","components/MapPolygon.js","components/DataOverlay.js","hooks/useInterval.js","components/DataOverlayOptions.js","components/MapMarkers.js","components/SwitchLine.js","components/MarkerToggles.js","components/Markers.js","components/CreditsModal.js","components/OffcanvasFooter.js","components/OwnLocationMarker.js","components/Map.js","App.js","reportWebVitals.js","index.js"],"names":["ColorScale","min","max","databasisColorScale","scale","domain","_100","i","push","style","overflow","fontFamily","map","display","backgroundColor","hex","width","height","float","defaultPathOptions","stroke","fillOpacity","Polygon","geoframe","pathOptions","tooltip","useState","isHighlighted","setIsHighlighted","positions","geometry","coordinates","eventHandlers","mouseover","mouseout","direction","sticky","DataOverlay","cache","dataOverlayEntries","selectedDataKey","selectedX","selectedY","showTotal","isPercent","indexOf","aggFun","values","length","Math","round","reduce","sum","elem","value","databasis","selectedYValues","Object","keys","key","d","flat","databasisMax","databasisMin","totalValue","districts","features","filter","district","properties","title","f","item","find","MapPolygon","fontSize","unit","replace","fillColor","useInterval","callback","delay","intervalRef","useRef","callbackRef","useEffect","current","window","setInterval","clearInterval","DataOverlayOptions","dataEntries","setSelectedX","setSelectedY","setShowTotal","selectDataOverlayCategory","loadings","selectedData","xKeys","yKeys","playingYears","setPlayingYears","index","indexNext","console","log","goToNextYear","Form","Check","type","id","label","checked","onChange","e","curr","marginLeft","paddingBottom","paddingLeft","paddingRight","paddingTop","Accordion","defaultActiveKey","Item","eventKey","Header","opacity","Body","textTransform","Spinner","animation","size","sort","y","Button","marginBottom","onClick","icon","faPauseCircle","faPlayCircle","reverse","x","MapMarkers","data","renderTooltip","renderIcon","renderLink","myIcon","L","divIcon","iconSize","html","renderToString","popup","Popup","href","Marker","position","lat","center","lon","click","isMobile","open","SwitchLine","loading","spinner","isActive","setIsActive","onMouseEnter","onMouseLeave","onTouchStart","onTouchEnd","onTouchCancel","flexDirection","justifyContent","padding","marginRight","disabled","colors","MarkerToggles","showMarker","toggleMarkers","setShowMarker","navigator","own_location","color","faLocationArrow","bus_stops","faBus","train_stops","faSubway","tram_stops","faTrain","swimming_pools","faSwimmingPool","fitness_studios","faDumbbell","daycares","faBaby","playgrounds","faChild","bike_lanes","faBicycle","parks","faTree","supermarkets","faShoppingBasket","markets","faHome","Markers","elements","tags","name","network","faSwimmer","link","operator","opening_hours","location","organic","p","CreditsModal","props","Modal","centered","closeButton","Title","OffcanvasFooter","showCreditsModal","setShowCreditsModal","textDecoration","variant","show","onHide","OwnLocationMarker","className","faCircle","border","borderRadius","boxShadow","zIndex","top","left","usePosition","enableHighAccuracy","latitude","longitude","error","right","chroma","Hooks","useMapEvent","latlng","Map","setCache","showOffcanvas","setShowOffcanvas","setLoadings","data_overlay","setSelectedDataKey","fetch","process","then","response","json","res","databasisMaxYears","forEach","includes","dataOverlayScale","MapContainer","zoom","tap","TileLayer","attribution","url","bottom","alignItems","faCog","background","cursor","OverlayTrigger","placement","overlay","Tooltip","join","Offcanvas","backdrop","textAlign","faChartPie","marginTop","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9a310b21.chunk.js","sourcesContent":["const ColorScale = ({\n  min,\n  max,\n  scale,\n}) => {\n  const databasisColorScale = scale.domain([0, 100]);\n\n  const _100 = [];\n  for (let i = 0; i < 100; i++) _100.push(i)\n\n  return (\n    <div style={{ overflow: 'auto', fontFamily: 'monospace' }}>\n      {_100.map(i =>\n        <span key={i} style={{\n          display: 'inline-block',\n          backgroundColor: databasisColorScale(i).hex(),\n          width: '1%', height: 10\n        }}>\n      </span>)}\n      <div style={{ float: 'left' }}>{min}</div>\n      <div style={{ float: 'right' }}>{max}</div>\n    </div>\n  )\n}\n\nexport default ColorScale;\n","import { useState } from 'react';\nimport { Polygon as P, Tooltip } from 'react-leaflet'\n\nconst defaultPathOptions = {\n  stroke: false,\n  fillOpacity: 0.6,\n}\n\nconst Polygon = ({ geoframe, pathOptions, tooltip }) => {\n  const [isHighlighted, setIsHighlighted] = useState(false);\n\n  return (\n    <P\n      pathOptions={{\n        ...defaultPathOptions,\n        ...pathOptions,\n        fillOpacity: isHighlighted ? 0.6 : defaultPathOptions.fillOpacity\n      }}\n      positions={geoframe.geometry.coordinates[0]}\n      eventHandlers={{\n        mouseover: () => setIsHighlighted(true),\n        mouseout: () => setIsHighlighted(false)\n      }}\n    >\n      <Tooltip direction=\"top\" sticky>\n        {tooltip}\n      </Tooltip>\n    </P>\n  )\n}\n\nexport default Polygon;\n","import MapPolygon from './MapPolygon'\n\nconst DataOverlay = ({\n  cache,\n  dataOverlayEntries,\n  selectedDataKey,\n  selectedX,\n  selectedY,\n  showTotal,\n  scale,\n}) => {\n  if(\n    !cache[selectedDataKey] ||\n    !cache[selectedDataKey][selectedX] ||\n    !cache[selectedDataKey][selectedX][selectedY]\n  ) return null;\n\n  const isPercent = selectedY && (selectedY.indexOf(\"Anteil\") >=0 || selectedY.indexOf(\"anteil\") >=0 || selectedY.indexOf(\"Quote\") >= 0 || selectedY.indexOf(\"quote\") >= 0)\n  const aggFun = (values) => showTotal ? ((isPercent && values.length > 0) ? (Math.round(values.reduce((sum, elem) => sum + elem.value, 0) / values.length)) : values.reduce((sum, elem) => sum + elem.value, 0)) : 0\n  const databasis = cache[selectedDataKey][selectedX][selectedY];\n  const selectedYValues = Object.keys(cache[selectedDataKey]).map(key =>\n    cache[selectedDataKey][key][selectedY] ?\n      (\n        showTotal ?\n          aggFun(cache[selectedDataKey][key][selectedY])\n          : cache[selectedDataKey][key][selectedY].map(d => d.value)\n      ) : 0\n  ).flat(1)\n  const databasisMax = Math.max(...selectedYValues)\n  const databasisMin = dataOverlayEntries[selectedDataKey].min || 0;\n  const databasisColorScale = scale.domain([databasisMin, databasisMax]);\n  const totalValue = aggFun(databasis)\n\n  return (\n    <>\n      {cache.districts.features.filter((district) => showTotal ? district.properties.title === \"Gesamt\" : district.properties.title !== \"Gesamt\").map(f => {\n          let item = showTotal ? null : databasis.find(d => d.district === f.properties.title)\n          const district = showTotal ? \"Gesamt\" : item.district\n          const value = showTotal ? totalValue : item.value\n          return (\n            <MapPolygon\n              key={f.properties.key}\n              geoframe={f}\n              tooltip={\n                <div style={{ fontSize: '1rem' }}>\n                  <div style={{ fontSize: '1.4rem' }}>{value}{isPercent ? \"%\" : \"\"} {dataOverlayEntries[selectedDataKey].unit}</div>\n                  {district}<br />\n                  <div style={{ fontSize: '0.8rem' }}>{dataOverlayEntries[selectedDataKey].title}</div>\n                  {\n                    dataOverlayEntries[selectedDataKey].title !== selectedY.replace(' insgesamt', '') &&\n                    <div style={{ fontSize: '0.8rem' }}>{selectedY}</div>\n                  }\n                </div>\n              }\n              pathOptions={{\n                fillColor: databasisColorScale(value).hex()\n              }}\n            />\n          )\n      })}\n    </>\n  )\n}\n\nexport default DataOverlay;","import { useEffect, useRef } from 'react';\n\nfunction useInterval(callback, delay) {\n  const intervalRef = useRef();\n  const callbackRef = useRef(callback);\n\n  useEffect(() => {\n    callbackRef.current = callback;\n  }, [callback]);\n\n  useEffect(() => {\n    if (typeof delay === 'number') {\n      intervalRef.current = window.setInterval(() => callbackRef.current(), delay);\n      return () => window.clearInterval(intervalRef.current);\n    }\n  }, [delay]);\n\n  return intervalRef;\n}\n\nexport default useInterval;\n","import { useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlayCircle, faPauseCircle } from '@fortawesome/free-solid-svg-icons';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport Spinner from 'react-bootstrap/Spinner';\n\nimport useInterval from '../hooks/useInterval'\n\nconst DataOverlayOptions = ({\n  dataEntries,\n  cache,\n  selectedDataKey,\n  selectedX,\n  selectedY,\n  showTotal,\n  setSelectedX,\n  setSelectedY,\n  setShowTotal,\n  selectDataOverlayCategory,\n  loadings,\n}) => {\n\n  const selectedData = cache[selectedDataKey];\n  const xKeys = selectedData ? Object.keys(selectedData) : []\n  const yKeys = selectedData ? Object.keys(selectedData[xKeys[0]]) : []\n\n  const [playingYears, setPlayingYears] = useState(false);\n\n  const goToNextYear = () => {\n    if(!selectedData) return;\n\n    const index = xKeys.indexOf(selectedX);\n    const indexNext = index + 1 > Object.keys(selectedData).length - 1 ? 0 : index + 1;\n    console.log(index, indexNext)\n    setSelectedX(xKeys[indexNext])\n  }\n\n  useInterval(() => goToNextYear(), playingYears ? 500 : null);\n\n  return (\n    <>\n      <Form.Check\n        key={\"Total\"}\n        type=\"checkbox\"\n        id={\"Total\"}\n        label={\"Zeige Daten für Gesamtgebiet\"}\n        checked={showTotal}\n        onChange={e => setShowTotal((curr) => !curr)}\n        style={{ marginLeft: 20 }}\n      />\n      <div style={{ paddingBottom: 20, paddingLeft: 20, paddingRight: 20, paddingTop: 5, }}>\n        <p><strong>Details für Ortsteile</strong> zeigen mit farblichen Flächen bspw. an, wie viele Arbeitslose im Jahr 2016 in jeweiligem Ortsteil gelebt haben. \n        Wähle eine <strong>Kategorie</strong>, <strong>Unterkategorie</strong> und <strong>Jahr</strong>.</p>\n        <Accordion defaultActiveKey=\"0\">\n          <Accordion.Item eventKey=\"0\">\n            <Accordion.Header>Kategorie&nbsp;<span style={{ opacity: 0.5 }}>{dataEntries[selectedDataKey].title} ({Object.keys(dataEntries).length})</span></Accordion.Header>\n            <Accordion.Body>\n            {Object.keys(dataEntries).map((key) =>\n                <Form.Check\n                  key={key}\n                  type=\"radio\"\n                  id={key}\n                  label={\n                      <span style={{ textTransform: 'capitalize' }}>\n                        {dataEntries[key].title}&nbsp;\n                        {loadings[key] && <Spinner animation=\"border\" size=\"sm\" />}\n                      </span>\n                  }\n                  checked={selectedDataKey === key}\n                  onChange={e => selectDataOverlayCategory(key)}\n                />\n            )}\n            </Accordion.Body>\n          </Accordion.Item>\n          {yKeys.length > 1 && <Accordion.Item eventKey=\"1\">\n            <Accordion.Header>Unterkategorie:&nbsp;<span style={{ opacity: 0.5 }}>{selectedY} ({yKeys.length})</span></Accordion.Header>\n            <Accordion.Body>\n            {loadings[selectedDataKey] && <Spinner animation=\"border\" size=\"sm\" />}\n            {!!selectedData && selectedData[selectedX] && Object.keys(selectedData[selectedX]).sort().map(y => \n              <Form.Check\n                key={y}\n                type=\"radio\"\n                id={y}\n                label={y}\n                checked={selectedY === y}\n                onChange={e => setSelectedY(y)}\n              />\n            )}\n            </Accordion.Body>\n          </Accordion.Item>}\n          <Accordion.Item eventKey=\"2\">\n            <Accordion.Header>Jahr:&nbsp;<span style={{ opacity: 0.5 }}>{selectedX} ({xKeys.length})</span></Accordion.Header>\n            <Accordion.Body>\n            <Button style={{ marginBottom: 10, float: 'right' }} size=\"sm\" onClick={() => setPlayingYears(playingYears => !playingYears)}>\n              {playingYears ? <><FontAwesomeIcon icon={faPauseCircle} /> Pause</> : <><FontAwesomeIcon icon={faPlayCircle} /> Abspielen</>}\n            </Button>\n            {loadings[selectedDataKey] && <Spinner animation=\"border\" size=\"sm\" />}\n            {!!selectedData && Object.keys(selectedData).reverse().map(x =>\n              <Form.Check\n                key={x}\n                type=\"radio\"\n                id={x}\n                label={x}\n                checked={selectedX === x}\n                onChange={e => setSelectedX(x)}\n              />\n            )}\n            </Accordion.Body>\n          </Accordion.Item>\n        </Accordion>\n      </div>\n    </>\n  )\n}\n\nexport default DataOverlayOptions;","import { isMobile } from \"react-device-detect\";\nimport { renderToString } from 'react-dom/server'\n\nimport L from 'leaflet'\nimport { Tooltip, Marker, Popup } from 'react-leaflet'\n\nconst MapMarkers = ({ data, renderTooltip, renderIcon, renderLink = null }) => {\n  return data.map((item, index) => {\n\n    var myIcon = L.divIcon({\n      iconSize: [20, 20],\n      html: renderToString(renderIcon(item))\n    });\n\n    const popup = (\n      <Popup>\n        <div style={{ fontSize: '1rem' }}>\n          {renderTooltip(item)}\n          (<a href={renderLink(item)}>Mehr Details</a>)\n        </div>\n      </Popup>\n    )\n\n    const tooltip = (\n      <Tooltip sticky>\n        <div style={{ fontSize: '1rem' }}>\n          {renderTooltip(item)}<br />\n        </div>\n      </Tooltip>\n    )\n\n    return (\n      <Marker\n        key={index}\n        position={[item.lat || (item.center && item.center.lat), item.lon || (item.center && item.center.lon)]}\n        icon={myIcon}\n        eventHandlers={{\n          click: () => renderLink !== null && !isMobile ? window.open(renderLink(item)) : {}\n        }}\n      >\n        {isMobile && popup}\n        {!isMobile && tooltip}\n      </Marker>\n    )\n  })\n}\n\nexport default MapMarkers;","import Switch from \"rc-switch\";\nimport { useState } from \"react\";\nimport { Spinner } from \"react-bootstrap\";\n\nconst SwitchLine = ({\n  checked,\n  onChange,\n  loading,\n  icon,\n  label\n}) => {\n  const spinner = <Spinner animation=\"border\" size=\"sm\" />;\n  const [isActive, setIsActive] = useState(false);\n\n  return (\n    <div\n      onMouseEnter={() => setIsActive(true)}\n      onMouseLeave={() => setIsActive(false)}\n      onTouchStart={() => setIsActive(true)}\n      onTouchEnd={() => setIsActive(false)}\n      onTouchCancel={() => setIsActive(false)}\n      onClick={() => onChange()}\n      style={{\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        fontSize: '1.1rem',\n        padding: '10px 20px',\n        backgroundColor: isActive ? '#eee' : '#fff'\n      }}\n    >\n      <div>\n        <span style={{ marginRight: 7 }}>{loading ? spinner : icon}</span>\n        <span>{label}</span>\n      </div>\n      <div>\n        <Switch\n          disabled={loading === true}\n          checked={checked}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default SwitchLine;\n","import { faBaby, faBicycle, faBus, faChild, faDumbbell, faHome, faLocationArrow, faShoppingBasket, faSubway, faSwimmingPool, faTrain, faTree } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport 'rc-switch/assets/index.css';\nimport SwitchLine from './SwitchLine';\n\nexport const colors = {\n  bus_stops: '#1a73e8',\n  train_stops: '#1a73e8',\n  tram_stops: '#1a73e8',\n  own_location: '#1a73e8',\n  swimming_pools: '#7986cb',\n  fitness_studios: '#78909c',\n  daycares: '#f06292',\n  playgrounds: '#f06292',\n  bike_lanes: '#5565dd',\n  parks: '#34a853',\n  supermarkets: '#f29900',\n  markets: '#f29900',\n}\n\nconst MarkerToggles = ({\n  showMarker,\n  toggleMarkers,\n  setShowMarker,\n  loadings,\n}) => {\n  return (\n    <div>\n      {\n        \"geolocation\" in navigator &&\n        <SwitchLine\n          loading={loadings.own_location}\n          checked={showMarker.own_location}\n          onChange={e => setShowMarker({ ...showMarker, own_location: !showMarker.own_location })}\n          icon={<FontAwesomeIcon color={colors.own_location} icon={faLocationArrow} />}\n          label=\"Eigenen Standort anzeigen\"\n        />\n      }\n      <SwitchLine\n        loading={loadings.bus_stops}\n        checked={showMarker.bus_stops}\n        onChange={e => toggleMarkers('bus_stops')}\n        icon={<FontAwesomeIcon color={colors.bus_stops} icon={faBus} />}\n        label=\"Bushaltestellen anzeigen\"\n      />\n      <SwitchLine\n        loading={loadings.train_stops}\n        checked={showMarker.train_stops}\n        onChange={e => toggleMarkers('train_stops')}\n        icon={<FontAwesomeIcon color={colors.train_stops} icon={faSubway} />}\n        label=\"Zugbahnhöfe anzeigen\"\n      />\n      <SwitchLine\n        loading={loadings.tram_stops}\n        checked={showMarker.tram_stops}\n        onChange={e => toggleMarkers('tram_stops')}\n        icon={<FontAwesomeIcon color={colors.tram_stops} icon={faTrain} />}\n        label=\"Tramstops anzeigen\"\n      />\n      <SwitchLine\n        loading={loadings.swimming_pools}\n        checked={showMarker.swimming_pools}\n        onChange={e => toggleMarkers('swimming_pools')}\n        icon={<FontAwesomeIcon color={colors.swimming_pools} icon={faSwimmingPool} />}\n        label=\"Swimming Pools anzeigen\"\n      />\n      <SwitchLine\n        loading={loadings.fitness_studios}\n        checked={showMarker.fitness_studios}\n        onChange={e => toggleMarkers('fitness_studios')}\n        icon={<FontAwesomeIcon color={colors.fitness_studios} icon={faDumbbell} />}\n        label=\"Fitness Studios anzeigen\"\n      />\n      <SwitchLine\n        loading={loadings.daycares}\n        checked={showMarker.daycares}\n        onChange={e => toggleMarkers('daycares')}\n        icon={<FontAwesomeIcon color={colors.daycares} icon={faBaby} />}\n        label=\"Kitas anzeigen\"\n      />\n      <SwitchLine\n        loading={loadings.playgrounds}\n        checked={showMarker.playgrounds}\n        onChange={e => toggleMarkers('playgrounds')}\n        icon={<FontAwesomeIcon color={colors.playgrounds} icon={faChild} />}\n        label=\"Spielplätze anzeigen\"\n      />\n      <SwitchLine\n        loading={loadings.bike_lanes}\n        checked={showMarker.bike_lanes}\n        onChange={e => setShowMarker({ ...showMarker, bike_lanes: !showMarker.bike_lanes })}\n        icon={<FontAwesomeIcon color={colors.bike_lanes} icon={faBicycle} />}\n        label=\"Radwege anzeigen\"\n      />\n      <SwitchLine\n        loading={loadings.parks}\n        checked={showMarker.parks}\n        onChange={e => toggleMarkers('parks')}\n        icon={<FontAwesomeIcon color={colors.parks} icon={faTree} />}\n        label=\"Parks anzeigen\"\n      />\n      <SwitchLine\n        loading={loadings.supermarkets}\n        checked={showMarker.supermarkets}\n        onChange={e => toggleMarkers('supermarkets')}\n        icon={<FontAwesomeIcon color={colors.supermarkets} icon={faShoppingBasket} />}\n        label=\"Supermärkte anzeigen\"\n      />\n      <SwitchLine\n        loading={loadings.markets}\n        checked={showMarker.markets}\n        onChange={e => toggleMarkers('markets')}\n        icon={<FontAwesomeIcon color={colors.markets} icon={faHome} />}\n        label=\"Wochenmärkte anzeigen\"\n      />\n    </div>\n  )\n}\n\nexport default MarkerToggles;\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faBus, faSwimmingPool, faSwimmer, faChild, faBaby, faHome, faSubway, faTrain, faDumbbell, faShoppingBasket, faTree } from '@fortawesome/free-solid-svg-icons'\n\nimport MapMarkers from './MapMarkers'\n\nimport { colors } from './MarkerToggles'\n\nconst Markers = ({ showMarker, cache }) => <>\n  {showMarker.bus_stops && \n    <MapMarkers\n      data={cache.bus_stops.elements}\n      renderTooltip={item =>\n        <div>{item.tags.name} ({item.tags.network})<br />(click for details)</div>\n      }\n      renderIcon={item => <FontAwesomeIcon color={colors.bus_stops} icon={faBus} />}\n      renderLink={item => `https://www.openstreetmap.org/${item.type}/${item.id}`}\n    />\n  }\n\n  {showMarker.swimming_pools && \n    <MapMarkers\n      data={cache.swimming_pools}\n      renderTooltip={item => <div>{item.title}<br />(click for details)</div>}\n      renderIcon={item => \n          item.type === 'indoor_pool' ? \n          <FontAwesomeIcon color={colors.swimming_pools} icon={faSwimmingPool} /> : \n          <FontAwesomeIcon color={colors.swimming_pools} icon={faSwimmer} />\n      }\n      renderLink={item => item.link}\n    />\n  }\n  {showMarker.tram_stops && \n    <MapMarkers\n      data={cache.tram_stops.elements}\n      renderTooltip={item => \n        <div>{item.tags.name} ({item.tags.network})<br />(click for details)</div>\n      }\n      renderIcon={item => <FontAwesomeIcon color={colors.tram_stops} icon={faTrain} />}\n      renderLink={item => `https://www.openstreetmap.org/${item.type}/${item.id}`}\n    />\n  }\n  {showMarker.train_stops && \n    <MapMarkers\n      data={cache.train_stops.elements}\n      renderTooltip={item => {\n        return (\n          <div>\n            {item.tags.name}<br />\n            {item.tags.operator}<br />\n            (click for details)\n          </div>\n        )\n      }}\n      renderIcon={item => <FontAwesomeIcon color={colors.train_stops} icon={faSubway} />}\n      renderLink={item => `https://www.openstreetmap.org/${item.type}/${item.id}`}\n    />\n  }\n  {showMarker.fitness_studios && \n    <MapMarkers\n      data={cache.fitness_studios.elements}\n      renderTooltip={item => <div>{item.tags.name}<br />(click for details)</div>}\n      renderIcon={item => <FontAwesomeIcon color={colors.fitness_studios} icon={faDumbbell} />}\n      renderLink={item => `https://www.openstreetmap.org/${item.type}/${item.id}`}\n    />\n  }\n  {showMarker.daycares && \n    <MapMarkers\n      data={cache.daycares.elements}\n      renderTooltip={item => <div>{item.tags.name}<br />(click for details)</div>}\n      renderIcon={item => <FontAwesomeIcon color={colors.daycares} icon={faBaby} />}\n      renderLink={item => `https://www.openstreetmap.org/${item.type}/${item.id}`}\n    />\n  }\n  {showMarker.markets && \n    <MapMarkers\n      data={cache.markets}\n      renderTooltip={item => <div>{item.title}<br />{item.opening_hours}<br />{item.location}</div>}\n      renderIcon={item => <FontAwesomeIcon color={colors.markets} icon={faHome} />}\n      renderLink={item => `https://www.openstreetmap.org/search?query=${item.location}`}\n    />\n  }\n  {showMarker.playgrounds && \n    <MapMarkers\n      data={cache.playgrounds}\n      renderTooltip={item => <div>{item.name}<br />{item.location}</div>}\n      renderIcon={item => <FontAwesomeIcon color={colors.playgrounds} icon={faChild} />}\n      renderLink={item => `https://www.openstreetmap.org/search?query=${item.lat || (item.center && item.center.lat)},${item.lon || (item.center && item.center.lon)}`}\n    />\n  }\n  {showMarker.supermarkets && \n    <MapMarkers\n      data={cache.supermarkets.elements}\n      renderTooltip={item => <div>{item.tags.name}<br />{item.tags.organic ? `organic: ${item.tags.organic}`: ''}</div>}\n      renderIcon={item => <FontAwesomeIcon color={item.tags.organic ? 'green' : colors.supermarkets} icon={faShoppingBasket} />}\n      renderLink={item => `https://www.openstreetmap.org/search?query=${item.lat || (item.center && item.center.lat)},${item.lon || (item.center && item.center.lon)}`}\n    />\n  }\n  {showMarker.parks && \n    <MapMarkers\n      data={cache.parks.filter(p => p.tags?.name)}\n      renderTooltip={item => item.tags.name}\n      renderIcon={item => <FontAwesomeIcon color={colors.parks} icon={faTree} />}\n      renderLink={item => `https://www.openstreetmap.org/search?query=${item.lat || (item.center && item.center.lat)},${item.lon || (item.center && item.center.lon)}`}\n    />\n  }\n</>\n\nexport default Markers;\n","import Modal from 'react-bootstrap/Modal';\n\nconst CreditsModal = (props) => {\n  return (\n    <Modal\n      {...props}\n      size=\"lg\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title id=\"contained-modal-title-vcenter\">\n          Copyright &amp; Daten\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <ul>\n          <li><a href=\"https://www.openstreetmap.org/copyright/en\">© OpenStreetMap contributors</a><br /></li>\n          <li><a href=\"https://www.maptiler.com/copyright/\">&copy; MapTiler</a></li>\n          <li><a href=\"https://www.cyclosm.org\">&copy; cyclosm</a></li>\n          <li><a href=\"https://github.com/CodeforLeipzig/leipzig-maps\">GitHub Source Code</a><br /></li>\n        </ul>\n        <p>Ein Teil der Beschriftungen kommen aus anderen Quellen und sind daher nicht gegendert.</p>\n      </Modal.Body>\n    </Modal>\n  );\n}\n\nexport default CreditsModal;","import { useState } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport CreditsModal from \"./CreditsModal\";\n\nconst OffcanvasFooter = () => {\n  const [showCreditsModal, setShowCreditsModal] = useState(false);\n\n  return (\n    <div style={{ fontSize: 12 }}>\n    <Button\n      style={{ textDecoration: 'none' }}\n      variant=\"link\"\n      size=\"sm\"\n      onClick={() => setShowCreditsModal(true)}\n    >Copyright &amp; Daten</Button>\n    <br />\n    <Button\n      style={{ textDecoration: 'none' }}\n      variant=\"link\"\n      size=\"sm\"\n      onClick={() => window.open('https://github.com/CodeforLeipzig/leipzigmaps')}\n    >🧑🏻‍💻 mrzmyr / Code for Leipzig</Button>\n    <br />\n    <CreditsModal\n      show={showCreditsModal}\n      onHide={() => setShowCreditsModal(false)}\n    />\n  </div>\n  )\n}\n\nexport default OffcanvasFooter;\n","import { renderToString } from 'react-dom/server'\n\nimport './OwnLocationMarker.css'\n\nimport L from 'leaflet'\nimport { Marker } from 'react-leaflet';\nimport { usePosition } from 'use-position';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCircle } from '@fortawesome/free-solid-svg-icons';\nimport { colors } from './MarkerToggles';\n\nconst OwnLocationMarker = () => {\n  var myIcon = L.divIcon({\n    className: 'ownLocationMarker',\n    iconSize: [30, 20],\n    html: renderToString(\n      <div>\n        <FontAwesomeIcon\n          icon={faCircle}\n          size='lg'\n          style={{\n            animation: 'pulseDot 2s cubic-bezier(0.455, 0.03, 0.515, 0.955) -.4s infinite',\n            color: colors.own_location,\n            border: '2px solid #FFF',\n            borderRadius: '50%',\n            boxShadow: 'rgba(0, 0, 0, 0.1) 0px 4px 12px',\n            position: 'relative',\n            zIndex: 20,\n          }}\n        />\n        <FontAwesomeIcon\n          icon={faCircle}\n          size='3x'\n          style={{\n            animation: 'pulseRing 3s cubic-bezier(0.215, 0.61, 0.355, 1) infinite',\n            color: colors.own_location,\n            position: 'absolute',\n            top: -9,\n            left: -8,\n            zIndex: 10,\n          }}\n        />\n      </div>\n    )\n  });\n\n  const watch = true;\n  const {\n    latitude,\n    longitude,\n    error,\n  } = usePosition(watch, {enableHighAccuracy: true});\n\n  console.log(error)\n\n  if(error) return <div style={{ color: '#fff', padding: 5, backgroundColor: 'red', position: 'absolute', top: 0, right: 0, zIndex: 9999 }}>{error}</div>\n\n  return (\n    <Marker\n      position={[latitude || 0, longitude || 0]}\n      icon={myIcon}\n    >\n    </Marker>\n  )\n}\n\nexport default OwnLocationMarker;\n","import { faChartPie, faCog } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport chroma from 'chroma-js';\nimport React, { useEffect, useState } from 'react';\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport Button from 'react-bootstrap/Button';\nimport Offcanvas from 'react-bootstrap/Offcanvas';\nimport Spinner from 'react-bootstrap/Spinner';\nimport { isMobile } from \"react-device-detect\";\nimport { MapContainer, TileLayer, useMapEvent } from 'react-leaflet';\nimport ColorScale from './ColorScale';\nimport DataOverlay from './DataOverlay';\nimport DataOverlayOptions from './DataOverlayOptions';\nimport Markers from './Markers';\nimport MarkerToggles from './MarkerToggles';\nimport OffcanvasFooter from './OffcanvasFooter';\nimport OwnLocationMarker from './OwnLocationMarker';\nimport SwitchLine from \"./SwitchLine\";\n\nconst dataOverlayEntries = {\n  'aerzte': {\n    title: 'Ärzte',\n    scale: chroma.scale('PuRd'),\n    unit: 'Ärzte',\n  },\n  'arbeitslose-insgesamt': {\n    title: 'Arbeitslose',\n    scale: chroma.scale('OrRd'),\n    unit: 'Arbeitslose',\n  },\n  'bedarfsgemeinschaften': {\n    title: 'Bedarfsgemeinschaften',\n    scale: chroma.scale('YlGnBu'),\n    unit: '',\n  },\n  'einwohner-insgesamt': {\n    title: 'Population',\n    scale: chroma.scale('BuPu'),\n    unit: 'Menschen',\n  },\n  'einwohnerdichte': {\n    title: 'Bevölkerungsdichte',\n    scale: chroma.scale('BuPu'),\n    unit: 'Menschen',\n  },\n  'gesamtflaeche': {\n    title: 'Gesamtfläche',\n    scale: chroma.scale('Greys'),\n    unit: 'km²'\n  },\n  'haushaltseinkommen': {\n    title: 'Einkommen',\n    scale: chroma.scale('PuBu'),\n    min: 1000,\n    unit: '€'\n  },\n  'jugendquote': {\n    title: 'Alter',\n    scale: chroma.scale('YlOrBr'),\n    unit: '',\n  },\n  'kraftfahrzeuge-insgesamt': {\n    title: 'Kraftfahrzeuge',\n    scale: chroma.scale('Purples'),\n    unit: 'Fahrzeuge'\n  },\n  'migranten': {\n    title: 'Zugewanderte',\n    scale: chroma.scale('GnBu'),\n    unit: 'Zugewanderte',\n  },\n  'straftaten-insgesamt': {\n    title: 'Straftaten',\n    scale: chroma.scale('YlOrRd'),\n    unit: 'Straftaten',\n  },\n  'unternehmen-insgesamt': {\n    title: 'Unternehmen',\n    scale: chroma.scale('Blues'),\n    unit: 'Unternehmen',\n  },\n  'wohnungen': {\n    title: 'Wohnungen',\n    scale: chroma.scale('RdPu')\n  },\n}\n\nconst center = [51.340199, 12.430103];\n\nfunction Hooks() {\n  useMapEvent('click', (e) => {\n    console.log(e.latlng)\n  })\n  return null\n}\n\nconst Map = () => {\n\n  const [cache, setCache] = useState({})\n\n  const [showOffcanvas, setShowOffcanvas] = useState(true);\n\n  const [loadings, setLoadings] = useState({\n    districts: true\n  });\n\n  const [showMarker, setShowMarker] = useState({\n    bike_lanes: false,\n    bus_stops: false,\n    train_stops: false,\n    tram_stops: false,\n    swimming_pools: false,\n    playgrounds: false,\n    daycares: false,\n    data_overlay: false,\n    markets: false,\n  });\n\n  const [selectedDataKey, setSelectedDataKey] = useState(null);\n  const [selectedX, setSelectedX] = useState(null);\n  const [selectedY, setSelectedY] = useState(null);\n  const [showTotal, setShowTotal] = useState(false);\n\n  const toggleDataOverlay = () => {\n    setShowMarker({ ...showMarker, data_overlay: !showMarker.data_overlay })\n  }\n\n  const selectDataOverlayCategory = (key) => {\n    setSelectedDataKey(key)\n\n    if(!cache[key]) {\n      setLoadings({ ...loadings, [key]: true })\n      fetch(`${process.env.PUBLIC_URL}/data/leipzig-${key}.json`)\n        .then(response => response.json())\n        .then(response => {\n          setLoadings(loadings => ({ ...loadings, [key]: false }))\n          setCache(cache => ({ ...cache, [key]: response.data }))\n          setShowMarker(showMarker => ({ ...showMarker, [key]: !showMarker[key] }))\n        });\n    } else {\n      setShowMarker({ ...showMarker, [key]: !showMarker[key] })\n    }\n  }\n\n  const toggleMarkers = (key) => {\n    if(!cache[key]) {\n      setLoadings({ ...loadings, [key]: true })\n      fetch(`${process.env.PUBLIC_URL}/data/leipzig-${key.replace('_', '-')}.json`)\n        .then(response => response.json())\n        .then(data => {\n          setCache({ ...cache, [key]: data })\n          setShowMarker({ ...showMarker, [key]: !showMarker[key] })\n          setLoadings({ ...loadings, [key]: false })\n        });\n    } else {\n      setShowMarker({ ...showMarker, [key]: !showMarker[key] })\n    }\n  }\n\n  useEffect(() => {\n    fetch(`${process.env.PUBLIC_URL}/data/leipzig-districts.json`)\n    .then(res => res.json())\n    .then(data => {\n      setCache(cache => ({ ...cache, districts: data }))\n      setLoadings(loadings => ({ ...loadings, districts: false }))\n    })\n    selectDataOverlayCategory(Object.keys(dataOverlayEntries)[0])\n  // eslint-disable-next-line\n  }, [])\n\n  useEffect(() => {\n    if(cache[selectedDataKey]) {\n      let selectedData = cache[selectedDataKey];\n      let xKeys = Object.keys(selectedData)\n      let yKeys = Object.keys(selectedData[xKeys[0]])\n      setSelectedX(xKeys[xKeys.length - 1]);\n      setSelectedY(yKeys[0]);\n    }\n  }, [cache, selectedDataKey])\n\n  let databasis = null;\n  let databasisMax = null;\n  let databasisMin = null;\n  let databasisMaxYears = null;\n\n  if(\n    cache[selectedDataKey] &&\n    cache[selectedDataKey][selectedX] &&\n    cache[selectedDataKey][selectedX][selectedY]\n  ) {\n    const isPercent = selectedY && (selectedY.indexOf(\"Anteil\") >=0 || selectedY.indexOf(\"anteil\") >=0 || selectedY.indexOf(\"Quote\") >= 0 || selectedY.indexOf(\"quote\") >= 0)\n    const aggFun = (values) => showTotal ? ((isPercent && values.length > 0) ? (Math.round(values.reduce((sum, elem) => sum + elem.value, 0) / values.length)) : values.reduce((sum, elem) => sum + elem.value, 0)) : 0\n    databasis = cache[selectedDataKey][selectedX][selectedY];\n    const selectedYValues = Object.keys(cache[selectedDataKey]).map(key =>\n      cache[selectedDataKey][key][selectedY] ?\n        (\n          showTotal ?\n            aggFun(cache[selectedDataKey][key][selectedY])\n            : cache[selectedDataKey][key][selectedY].map(d => d.value)\n        ) : 0\n    ).flat(1)\n    databasisMax = Math.max(...selectedYValues)\n    databasisMaxYears = []\n    Object.keys(cache[selectedDataKey]).forEach(key => {\n      if(\n        cache[selectedDataKey][key][selectedY] &&\n        cache[selectedDataKey][key][selectedY].map(d => d.value).includes(databasisMax)\n      ) {\n        databasisMaxYears.push(key)\n      }\n    })\n\n    databasisMin = dataOverlayEntries[selectedDataKey].min || 0;\n  }\n\n  // const dataOverlayScale = chroma.scale('Spectral');\n  const dataOverlayScale = dataOverlayEntries[selectedDataKey] ? dataOverlayEntries[selectedDataKey].scale : null;\n\n  return (\n    <>\n    <MapContainer\n      style={{ height: '100vh' }}\n      center={center}\n      zoom={12}\n      tap={false}\n    >\n      {!showMarker.bike_lanes && <TileLayer\n        attribution='<a href=\"https://www.maptiler.com/copyright/\" target=\"_blank\">&copy; MapTiler</a> <a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">&copy; OpenStreetMap contributors</a>'\n        url=\"https://api.maptiler.com/maps/streets/256/{z}/{x}/{y}@2x.png?key=LtQePu1HTsFQi3NRcYZ5\"\n      />}\n      {showMarker.bike_lanes && <TileLayer\n        attribution='<a href=\"https://www.cyclosm.org\" target=\"_blank\">&copy; cyclosm</a> <a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">&copy; OpenStreetMap contributors</a>'\n        url=\"https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png\"\n      />}\n      <Hooks />\n      <Markers showMarker={showMarker} cache={cache} />\n      {\n        showMarker.data_overlay &&\n        !loadings.districts &&\n        <DataOverlay\n          dataOverlayEntries={dataOverlayEntries}\n          scale={dataOverlayScale}\n          cache={cache}\n          selectedDataKey={selectedDataKey}\n          showTotal={showTotal}\n          selectedX={selectedX}\n          selectedY={selectedY}\n        />\n      }\n      {\n        showMarker.own_location &&\n        <OwnLocationMarker />\n      }\n    </MapContainer>\n      {\n        !showOffcanvas &&\n        <div style={{\n          position: 'absolute',\n          zIndex: 999,\n          right: 20,\n          bottom: 20,\n          boxShadow: 'rgba(0, 0, 0, 0.1) 0px 4px 12px'\n        }}>\n          <Button\n            style={{\n              display: 'flex',\n              justifyContent: 'center',\n              alignItems: 'center',\n              width: 60,\n              height: 60,\n            }}\n            size=\"lg\"\n            onClick={() => setShowOffcanvas(true)}\n          ><FontAwesomeIcon size=\"lg\" icon={faCog} /></Button>\n        </div>\n      }\n      {\n        showMarker.data_overlay &&\n        <div style={{ position: 'absolute', fontFamily: 'monospace', zIndex: 999, left: 10, bottom: 10, padding: 10, borderRadius: 10, background: 'white', cursor: 'pointer' }} onClick={() => setShowOffcanvas(true)}>\n          <OverlayTrigger\n            placement=\"top\"\n            overlay={\n              <Tooltip id={`tooltip-colorscale`}>\n                Der maximal Wert wurde in {databasisMaxYears && databasisMaxYears.join(', ')} erreicht.\n              </Tooltip>\n            }\n          >\n              <div>{selectedY}&nbsp;({selectedX})</div>\n          </OverlayTrigger>\n              <ColorScale scale={dataOverlayScale} data={databasis} min={databasisMin} max={databasisMax} />\n        </div>\n      }\n      <Offcanvas\n        show={showOffcanvas}\n        onHide={() => setShowOffcanvas(false)}\n        backdrop={false}\n        placement={isMobile ? 'bottom' : 'end'}\n        style={{\n          height: isMobile ? '40vh' : '100vh',\n          border: 0,\n          boxShadow: 'rgba(0, 0, 0, 0.1) 0px -10px 20px 0px',\n        }}\n      >\n      <Offcanvas.Header closeButton>\n        <Offcanvas.Title>Einstellungen</Offcanvas.Title>\n      </Offcanvas.Header>\n        <Offcanvas.Body\n          style={{\n            padding: 0,\n          }}\n        >\n          {loadings.districts && <div style={{ textAlign: 'center', padding: 10 }}><Spinner animation=\"border\" size=\"sm\" /></div>}\n          {!loadings.districts &&\n            <>\n              <SwitchLine\n                loading={loadings.data_overlay}\n                checked={showMarker.data_overlay}\n                onChange={e => toggleDataOverlay()}\n                icon={<FontAwesomeIcon icon={faChartPie} />}\n                label=\"Details zu Ortsteilen anzeigen\"\n              />\n              {\n                showMarker.data_overlay &&\n                <>\n                  <DataOverlayOptions\n                    dataEntries={dataOverlayEntries}\n                    cache={cache}\n                    selectedDataKey={selectedDataKey}\n                    showTotal={showTotal}\n                    selectedX={selectedX}\n                    selectedY={selectedY}\n                    setSelectedX={setSelectedX}\n                    setSelectedY={setSelectedY}\n                    setShowTotal={setShowTotal}\n                    selectDataOverlayCategory={selectDataOverlayCategory}\n                    loadings={loadings}\n                  />\n                </>\n              }\n              <MarkerToggles\n                showMarker={showMarker}\n                toggleMarkers={toggleMarkers}\n                setShowMarker={setShowMarker}\n                loadings={loadings}\n              />\n              <div style={{ height: 1, background: '#eee', marginTop: 10, marginBottom: 10 }} />\n            </>\n          }\n\n          <OffcanvasFooter />\n        </Offcanvas.Body>\n      </Offcanvas>\n    </>\n  )\n}\n\nexport default Map;","import './App.css';\nimport Map from './components/Map';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Map />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}